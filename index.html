<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Windows 95 Simulator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="index.css" />
    <script type="importmap">
      {
        "imports": {
          "@google/genai": "https://esm.sh/@google/genai@0.7.0",
          "@tailwindcss/browser": "https://esm.sh/@tailwindcss/browser@^4.1.3"
        }
      }
    </script>
  </head>
  <body>
    <div class="desktop" id="desktop">
      <!-- Desktop Icons -->
      <div class="icon" data-app="myComputer">
        <img
          src="https://storage.googleapis.com/gemini-95-icons/mycomputer.png"
          alt="My Computer"
          style="width: 70px; height: 50px"
        />
        <span>My Gemtop</span>
      </div>
      <div class="icon" data-app="chrome">
        <img src="https://storage.googleapis.com/gemini-95-icons/chrome-icon-2.png" alt="Chrome" />
        <span>Chrome</span>
      </div>
      <div class="icon" data-app="notepad">
        <img src="https://storage.googleapis.com/gemini-95-icons/GemNotes.png" alt="Notepad" />
        <span>GemNotes</span>
      </div>
      <div class="icon" data-app="paint">
        <img src="https://storage.googleapis.com/gemini-95-icons/gempaint.png" alt="Paint" />
        <span>GemPaint</span>
      </div>
      <div class="icon" data-app="gemStudio">
        <img src="https://win98icons.alexmeub.com/icons/png/camera-2.png" alt="GemStudio" />
        <span>GemStudio</span>
      </div>
       <div class="icon" data-app="gemCine">
        <img src="https://win98icons.alexmeub.com/icons/png/video_camera-0.png" alt="GemCine" />
        <span>GemCine</span>
      </div>
       <div class="icon" data-app="gemVoice">
        <img src="https://win98icons.alexmeub.com/icons/png/microphone-0.png" alt="GemVoice" />
        <span>GemVoice</span>
      </div>
      <div class="icon" data-app="doom">
        <img
          src="https://64.media.tumblr.com/1d89dfa76381e5c14210a2149c83790d/7a15f84c681c1cf9-c1/s540x810/86985984be99d5591e0cbc0dea6f05ffa3136dac.png"
          alt="Doom II"
        />
        <span>Doom II</span>
      </div>
      <div class="icon" data-app="gemini">
        <img
          src="https://storage.googleapis.com/gemini-95-icons/GeminiChatRetro.png"
          alt="Gemini App"
        />
        <span>Gemini App</span>
      </div>
      <div class="icon" data-app="minesweeper">
        <img
          src="https://storage.googleapis.com/gemini-95-icons/gemsweeper.png"
          alt="Minesweeper"
          style="width: 48px; height: 48px"
        />
        <span>GemSweeper</span>
      </div>
      <div class="icon" data-app="mediaPlayer">
        <img
          src="https://storage.googleapis.com/gemini-95-icons/ytmediaplayer.png"
          alt="Media Player"
          style="width: 48px; height: 48px"
        />
        <span>GemPlayer</span>
      </div>


      <!-- Windows -->
      <div class="window resizable" id="myComputer">
        <div class="window-titlebar">
          <span class="window-title">My Gemtop</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content" style="background-color: white">
          <div id="c-drive-icon" class="window-icon">
            <img src="https://storage.googleapis.com/gemini-95-icons/cdrive.png" alt="C Drive" />
            <span>C:</span>
          </div>
          <div id="c-drive-content" style="display: none">
            <div id="secret-image-icon" class="window-icon">
              <img
                src="https://win98icons.alexmeub.com/icons/png/paint_file-0.png"
                alt="Secret File"
              />
              <span>dontshowthis<br />toanyone.jpg</span>
            </div>
          </div>
        </div>
      </div>

      <div class="window resizable" id="chrome">
        <div class="window-titlebar">
          <span class="window-title">Chrome</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content">
          <div class="browser-toolbar">
            <div class="address-bar-container">
              <input
                type="text"
                class="browser-address-bar"
                placeholder="Enter a website URL..."
                value="https://www.google.com"
              />
              <button class="browser-go-button">Go!</button>
            </div>
          </div>
          <div class="browser-viewport">
            <iframe
              id="browser-frame"
              src="https://web.archive.org/web/19990428171538/http://google.com/"
              width="100%"
              height="100%"
            ></iframe>
            <div class="browser-loading">
              Generating website...
            </div>
          </div>
        </div>
      </div>

      <div class="window resizable" id="notepad">
        <div class="window-titlebar">
          <span class="window-title">GemNotes</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content">
          <div class="notepad-menu">
            <button class="notepad-story-button">Generate Story</button>
          </div>
          <textarea
            class="notepad-textarea"
            style="
              width: 100%;
              height: calc(100% - 30px);
              border: none;
              outline: none;
              resize: none;
              background-color: white;
              border: 1px solid #808080;
            "
          ></textarea>
        </div>
      </div>

      <div class="window resizable" id="paint">
        <div class="window-titlebar">
          <span class="window-title">GemPaint</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div
          class="window-content"
          style="
            display: flex;
            flex-direction: column;
            padding: 0;
            margin: 0;
            background-color: #c0c0c0;
          "
        >
          <div class="paint-toolbar">
            <div class="paint-colors">
              <button
                class="paint-color-swatch"
                data-color="black"
                style="background-color: black"
              ></button>
              <button
                class="paint-color-swatch"
                data-color="red"
                style="background-color: red"
              ></button>
              <button
                class="paint-color-swatch"
                data-color="blue"
                style="background-color: blue"
              ></button>
              <button
                class="paint-color-swatch"
                data-color="green"
                style="background-color: green"
              ></button>
              <button
                class="paint-color-swatch"
                data-color="yellow"
                style="background-color: yellow"
              ></button>
              <button class="paint-color-swatch" data-color="white" style="background-color: white">
                E
              </button>
            </div>
            <div class="paint-brush-sizes">
              <button class="paint-size-button" data-size="2">S</button>
              <button class="paint-size-button" data-size="5">M</button>
              <button class="paint-size-button" data-size="10">L</button>
            </div>
            <div class="paint-commands" style="display: flex; gap: 3px; margin-left: 5px; border-left: 1px solid #808080; padding-left: 5px;">
                <button class="paint-command-button" id="paint-save" title="Save as PNG">Save</button>
                <button class="paint-command-button" id="paint-open" title="Open Image">Open</button>
                <button class="paint-clear-button">Clear</button>
                <input type="file" id="paint-file-upload" accept="image/png, image/jpeg" style="display: none;" />
            </div>
          </div>
          <canvas
            id="paint-canvas"
            style="flex-grow: 1; background-color: white; cursor: crosshair; display: block"
          ></canvas>
        </div>
      </div>

      <div class="window resizable" id="doom">
        <div class="window-titlebar">
          <span class="window-title">Doom II</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content" id="doom-content">
        </div>
      </div>

      <div class="window resizable" id="gemini" style="width: 400px; height: 450px;">
        <div class="window-titlebar">
          <span class="window-title">Gemini App</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content gemini-chat-content">
          <div class="gemini-chat-toolbar">
            <label><input type="radio" name="gemini-mode" value="chat" checked> Chat</label>
            <label><input type="radio" name="gemini-mode" value="think"> Think</label>
            <label><input type="radio" name="gemini-mode" value="search"> Search</label>
            <label><input type="radio" name="gemini-mode" value="maps"> Maps</label>
          </div>
          <div class="gemini-chat-history">
          </div>
          <div class="gemini-chat-input-area">
            <input type="text" class="gemini-chat-input" placeholder="Type your message..." />
            <button class="gemini-chat-send">Send</button>
          </div>
        </div>
      </div>

      <!-- GemStudio Window -->
      <div class="window resizable" id="gemStudio" style="width: 500px; height: 450px;">
        <div class="window-titlebar">
          <span class="window-title">GemStudio</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content" style="padding: 0; background-color: #c0c0c0; display: flex; flex-direction: column;">
          <div class="tab-bar">
             <button class="tab-button active" data-tab="gen">Generate</button>
             <button class="tab-button" data-tab="edit">Edit</button>
          </div>
          <div class="tab-content" id="gemstudio-gen-tab">
             <div class="control-panel">
                <textarea class="prompt-input" placeholder="Describe image to generate..."></textarea>
                <div class="options-row">
                    <select id="gemstudio-size">
                        <option value="1K">1K</option>
                        <option value="2K">2K</option>
                        <option value="4K">4K</option>
                    </select>
                    <select id="gemstudio-ratio">
                        <option value="1:1">1:1</option>
                        <option value="3:4">3:4</option>
                        <option value="4:3">4:3</option>
                        <option value="9:16">9:16</option>
                        <option value="16:9">16:9</option>
                         <option value="21:9">21:9</option>
                         <option value="2:3">2:3</option>
                         <option value="3:2">3:2</option>
                    </select>
                    <button id="gemstudio-generate-btn">Generate</button>
                </div>
             </div>
             <div class="image-display-area" id="gemstudio-gen-display"></div>
          </div>
          <div class="tab-content" id="gemstudio-edit-tab" style="display:none;">
              <div class="control-panel">
                <div style="margin-bottom: 5px;">
                    <input type="file" id="gemstudio-edit-file" accept="image/*">
                </div>
                <textarea class="prompt-input" id="gemstudio-edit-prompt" placeholder="Describe edits (e.g., 'Make it retro')..."></textarea>
                <button id="gemstudio-edit-btn" style="width: 100%; margin-top: 5px;">Edit Image</button>
              </div>
              <div class="image-display-area" id="gemstudio-edit-display"></div>
          </div>
        </div>
      </div>

      <!-- GemCine Window -->
      <div class="window resizable" id="gemCine" style="width: 450px; height: 500px;">
        <div class="window-titlebar">
          <span class="window-title">GemCine</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content" style="background-color: #c0c0c0; padding: 5px; display:flex; flex-direction:column;">
            <div style="background: white; border: 1px inset gray; padding: 5px; margin-bottom: 5px; font-size: 0.8em;">
                Powered by Veo. Requires paid API key selection.
            </div>
            <textarea id="gemcine-prompt" class="prompt-input" style="height: 60px; margin-bottom: 5px;" placeholder="Video description..."></textarea>
             <div style="margin-bottom: 5px;">
                <label style="font-size:0.8em">Ref Image (Optional):</label>
                <input type="file" id="gemcine-file" accept="image/*">
            </div>
            <div class="options-row">
                <select id="gemcine-ratio">
                    <option value="16:9">16:9 (Landscape)</option>
                    <option value="9:16">9:16 (Portrait)</option>
                </select>
                <button id="gemcine-create-btn">Create Video</button>
            </div>
            <div id="gemcine-status" style="margin: 5px 0; font-size: 0.8em; height: 20px;"></div>
            <div id="gemcine-display" style="flex-grow: 1; background: black; border: 1px inset gray; display: flex; align-items: center; justify-content: center;">
            </div>
        </div>
      </div>

      <!-- GemVoice Window -->
      <div class="window resizable" id="gemVoice" style="width: 400px; height: 450px;">
        <div class="window-titlebar">
          <span class="window-title">GemVoice</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content" style="padding: 0; background-color: #c0c0c0; display: flex; flex-direction: column;">
             <div class="tab-bar">
                 <button class="tab-button active" data-tab="live">Live</button>
                 <button class="tab-button" data-tab="transcribe">Transcribe</button>
                 <button class="tab-button" data-tab="tts">TTS</button>
             </div>
             <!-- Live Tab -->
             <div class="tab-content" id="gemvoice-live-tab">
                 <div style="padding: 10px; text-align: center;">
                     <div id="gemvoice-visualizer" style="width: 100%; height: 150px; background: black; margin-bottom: 10px; border: 2px inset gray;"></div>
                     <button id="gemvoice-live-connect-btn" style="padding: 5px 20px;">Connect Live</button>
                     <p style="font-size: 0.8em; margin-top: 5px;">Talk naturally to Gemini.</p>
                 </div>
             </div>
             <!-- Transcribe Tab -->
             <div class="tab-content" id="gemvoice-transcribe-tab" style="display: none;">
                 <div style="padding: 5px; display: flex; flex-direction: column; height: 100%;">
                     <div class="options-row">
                         <button id="gemvoice-record-btn">Record</button>
                         <button id="gemvoice-stop-btn" disabled>Stop & Transcribe</button>
                     </div>
                     <textarea id="gemvoice-transcribe-out" style="flex-grow: 1; margin-top: 5px; resize: none;" readonly placeholder="Transcription will appear here..."></textarea>
                 </div>
             </div>
             <!-- TTS Tab -->
             <div class="tab-content" id="gemvoice-tts-tab" style="display: none;">
                  <div style="padding: 5px; display: flex; flex-direction: column; height: 100%;">
                     <textarea id="gemvoice-tts-in" style="flex-grow: 1; margin-bottom: 5px; resize: none;" placeholder="Type text to speak..."></textarea>
                     <button id="gemvoice-speak-btn">Speak</button>
                  </div>
             </div>
        </div>
      </div>


      <div class="window resizable" id="minesweeper" style="width: 400px; height: 450px">
        <div class="window-titlebar">
          <span class="window-title">GemSweeper</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div
          class="window-content minesweeper-content"
          style="
            display: flex;
            flex-direction: column;
            padding: 0;
            margin: 0;
            background-color: #c0c0c0;
          "
        >
          <div class="minesweeper-controls">
            <div class="minesweeper-info minesweeper-flag-count">üö© 10</div>
            <button class="minesweeper-reset-button">üôÇ</button>
            <div class="minesweeper-info minesweeper-timer">‚è±Ô∏è 0</div>
          </div>
          <div class="minesweeper-hint-area">
            <button class="minesweeper-hint-button">üí° Hint</button>
            <div class="minesweeper-commentary">Let's play! Click a square to start.</div>
          </div>
          <div class="minesweeper-grid-container">
            <div class="minesweeper-grid" id="minesweeper-board">
            </div>
          </div>
        </div>
      </div>

      <div class="window resizable" id="imageViewer" style="width: 350px; height: 350px">
        <div class="window-titlebar">
          <span class="window-title" id="image-viewer-title">Image Viewer</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content image-viewer-content" style="padding: 0; background-color: #808080; display: flex; flex-direction: column;">
          <div style="background: #c0c0c0; padding: 2px; border-bottom: 1px solid gray; display: flex; gap: 5px;">
              <input type="file" id="image-viewer-upload" accept="image/*" style="width: 180px;">
              <button id="image-viewer-analyze-btn">Analyze</button>
          </div>
          <div style="flex-grow: 1; overflow: hidden; display: flex; justify-content: center; align-items: center; position: relative;">
              <img
                id="image-viewer-img"
                src=""
                alt="Image"
                style="max-width: 100%; max-height: 100%; object-fit: contain"
              />
              <div id="image-viewer-analysis-overlay" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.8); color: white; padding: 5px; font-size: 0.8em; display: none; max-height: 50%; overflow-y: auto;"></div>
          </div>
        </div>
      </div>

      <div class="window resizable" id="mediaPlayer" style="width: 520px; height: 500px;">
        <div class="window-titlebar">
          <span class="window-title">GemPlayer</span>
          <div class="window-controls">
            <div class="window-minimize window-control-button">‚àí</div>
            <div class="window-close window-control-button">‚úï</div>
          </div>
        </div>
        <div class="window-content media-player-content">
          <div class="media-player-url-bar" style="height: auto; flex-wrap: wrap; gap: 2px;">
            <input type="text" class="media-player-input" placeholder="YouTube URL/ID" style="flex-grow: 1;" />
            <button class="media-player-load-button">Load YT</button>
             <div style="width: 100%; display: flex; gap: 5px; margin-top: 2px;">
                 <input type="file" id="media-player-file-upload" accept="video/*" style="flex-grow: 1;">
                 <button id="media-player-analyze-btn">Analyze Local Video</button>
             </div>
          </div>
          <div class="media-player-video-container">
            <div id="youtube-player-mediaPlayer" style="display:block;">
                 <p class="media-player-status-message">Loading GemPlayer...</p>
            </div>
            <video id="local-video-player" controls style="display:none; width:100%; height:100%;"></video>
            <div id="media-player-analysis-result" style="display:none; padding: 10px; color: white; font-family: monospace;"></div>
          </div>
          <div class="media-player-controls-panel">
            <div class="media-player-buttons-group">
                <button class="media-player-control-button" id="media-player-play" title="Play">‚ñ∂</button>
                <button class="media-player-control-button" id="media-player-pause" title="Pause">‚ùö‚ùö</button>
                <button class="media-player-control-button" id="media-player-stop" title="Stop">‚ñ†</button>
            </div>
            <div class="media-player-progress-bar-container-placeholder">
                <div class="media-player-progress-bar-placeholder"></div>
            </div>
            <div class="media-player-volume-placeholder">
                <span>üîä</span>
                <div class="media-player-volume-slider-placeholder"></div>
            </div>
          </div>
        </div>
      </div>


      <!-- Start Menu -->
      <div class="start-menu" id="start-menu">
        <div class="start-menu-item" data-app="myComputer">My Gemtop</div>
        <div class="start-menu-item" data-app="chrome">Chrome</div>
        <div class="start-menu-item" data-app="notepad">GemNotes</div>
        <div class="start-menu-item" data-app="paint">GemPaint</div>
        <div class="start-menu-item" data-app="gemStudio">GemStudio</div>
        <div class="start-menu-item" data-app="gemCine">GemCine</div>
        <div class="start-menu-item" data-app="gemVoice">GemVoice</div>
        <div class="start-menu-item" data-app="doom">Doom II</div>
        <div class="start-menu-item" data-app="gemini">Gemini App</div>
        <div class="start-menu-item" data-app="minesweeper">GemSweeper</div>
        <div class="start-menu-item" data-app="mediaPlayer">GemPlayer</div>
      </div>

      <!-- Taskbar -->
      <div id="taskbar">
        <button id="start-button">
          <img
            src="https://storage.googleapis.com/gemini-95-icons/start-gemini.png"
            alt="Start"
            style="width: 80px; height: 70px"
          />
        </button>
        <div id="taskbar-apps">
        </div>
      </div>

      <div id="paint-assistant">
        <div class="assistant-bubble">Thinking...</div>
        <img
          src="https://storage.googleapis.com/gemini-95-icons/robot-assistant.gif"
          alt="Paint Assistant"
          class="assistant-image"
        />
      </div>
    </div>
    <script type="module" src="index.tsx"></script>
  </body>
</html>